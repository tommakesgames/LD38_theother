<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>Event sheet 1</name>
    <events>
        <variable comment="Time that shout appears before moving off screen again" constant="0" name="shoutTime" sid="985385078439286" static="0" type="number">0.8</variable>
        <variable constant="0" name="initialStaticVolume" sid="468792055856604" static="0" type="number">-5</variable>
        <variable constant="0" name="staticVolume" sid="287861013927092" static="0" type="number">-5</variable>
        <variable constant="0" name="initialShake" sid="610507537245482" static="0" type="number">30</variable>
        <variable comment="How far till screen shakes" constant="0" name="enemyDistance" sid="755956645796748" static="0" type="number">100</variable>
        <event-group description="" sid="361759795033423" title="Debug">
            <sub-events>
                <event-block sid="800314739356174">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="453934829946613" type="Keyboard">
                            <param id="0" name="Key">80 (P)</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Toggle pause" sid="714572275326957" type="Pause" />
                    </actions>
                </event-block>
                <event-group description="" sid="933776026765928" title="DarknessToggle">
                    <sub-events>
                        <event-block sid="471571206092040">
                            <conditions>
                                <condition id="0" name="On key pressed" sid="617193320936416" type="Keyboard">
                                    <param id="0" name="Key">86 (V)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-14" name="Toggle boolean" sid="777803373382031" type="marker">
                                    <param id="0" name="Instance variable">darknessVisible</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="590818574414014">
                            <conditions>
                                <condition id="-8" name="Is boolean instance variable set" sid="818425513505750" type="marker">
                                    <param id="0" name="Instance variable">darknessVisible</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-4" name="Set layer visible" sid="283868780504180" type="System">
                                    <param id="0" name="Layer">&quot;Darkness&quot;</param>
                                    <param id="1" name="Visibility">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="392989144108443">
                            <conditions>
                                <condition id="-22" name="Else" sid="377695987607783" type="System" />
                            </conditions>
                            <actions>
                                <action id="-4" name="Set layer visible" sid="549256894035962" type="System">
                                    <param id="0" name="Layer">&quot;Darkness&quot;</param>
                                    <param id="1" name="Visibility">0</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <event-group description="" sid="258289257131224" title="PlayerSetup">
            <sub-events>
                <event-block sid="485505983920132">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="815188481083355" type="System" />
                    </conditions>
                    <actions>
                        <action id="-3" name="Set position" sid="711340834940030" type="debug_text">
                            <param id="0" name="X">player.X</param>
                            <param id="1" name="Y">player.Y-30</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="281484735980116" type="debug_text">
                            <param id="0" name="Pin to">player</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                        <action id="-4" name="Set position to another object" sid="481027644300772" type="shout">
                            <param id="0" name="Object">player</param>
                            <param id="1" name="Image point (optional)">&quot;shoutAnchor&quot;</param>
                        </action>
                        <action behavior="Pin" id="0" name="Pin to object" sid="363109811987881" type="shout">
                            <param id="0" name="Pin to">player</param>
                            <param id="1" name="Mode">0</param>
                        </action>
                        <action id="-15" name="Set visible" sid="149343767954428" type="shout">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="368105805745685">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="645696193443646" type="System" />
                    </conditions>
                    <actions>
                        <action id="-4" name="Set position to another object" sid="567817364168767" type="PlayerLight">
                            <param id="0" name="Object">player</param>
                            <param id="1" name="Image point (optional)">1</param>
                        </action>
                        <action id="-4" name="Set position to another object" sid="618710253308544" type="ShadowLight">
                            <param id="0" name="Object">player</param>
                            <param id="1" name="Image point (optional)">&quot;LightAnchor&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="693205621943086" title="PickEnemyShake">
            <sub-events>
                <event-block sid="574939536100167">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="726579146373648" type="System" />
                    </conditions>
                    <actions>
                        <action behavior="Flash" id="0" name="Flash" sid="307911616295373" type="marker">
                            <param id="0" name="&apos;On&apos; time">0.1</param>
                            <param id="1" name="&apos;Off&apos; time">0.1</param>
                            <param id="2" name="Duration">1.0</param>
                        </action>
                        <action id="-24" name="Move to top" sid="262541215265875" type="marker" />
                    </actions>
                </event-block>
                <event-block sid="244163321760179">
                    <conditions>
                        <condition behavior="Flash" id="1" name="On flash ended" sid="553405146942139" type="marker" />
                    </conditions>
                    <actions>
                        <action behavior="Flash" id="0" name="Flash" sid="250285915199827" type="marker">
                            <param id="0" name="&apos;On&apos; time">0.1</param>
                            <param id="1" name="&apos;Off&apos; time">0.1</param>
                            <param id="2" name="Duration">1.0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="902588713849944">
                    <conditions>
                        <condition id="-15" name="Pick nearest/furthest" sid="144594219464012" type="enemy">
                            <param id="0" name="Which">0</param>
                            <param id="1" name="X">player.X</param>
                            <param id="2" name="Y">player.Y</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="366982144698613" type="debug_text">
                            <param id="0" name="Text">round(distance(player.X, player.Y, enemy.X, enemy.Y))</param>
                        </action>
                        <action id="-4" name="Set position to another object" sid="241381180705529" type="marker">
                            <param id="0" name="Object">enemy</param>
                            <param id="1" name="Image point (optional)">0</param>
                        </action>
                    </actions>
                    <sub-events>
                        <event-block sid="758960227750567">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="900213678218355" type="System">
                                    <param id="0" name="First value">distance(enemy.X, enemy.Y, player.X, player.Y)</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Second value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="ScrollTo" id="0" name="Shake" sid="960462383803511" type="player">
                                    <param id="0" name="Magnitude">30</param>
                                    <param id="1" name="Duration">0.1</param>
                                    <param id="2" name="Mode">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="639480786313313">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="734088469678346" type="System">
                                    <param id="0" name="First value">distance(enemy.X, enemy.Y, player.X, player.Y)</param>
                                    <param id="1" name="Comparison">2</param>
                                    <param id="2" name="Second value">100</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="550143831318135" type="System" />
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="590210418928855" type="System">
                                    <param id="0" name="Variable">staticVolume</param>
                                    <param id="1" name="Value">initialStaticVolume</param>
                                </action>
                                <action id="0" name="Play" sid="287830287438510" type="Audio">
                                    <param id="0" name="Audio file">tv-static-01</param>
                                    <param id="2" name="Loop">1</param>
                                    <param id="3" name="Volume">staticVolume</param>
                                    <param id="1" name="Tag (optional)">&quot;static&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="631516769534460">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="379885606199940" type="System">
                                    <param id="0" name="First value">distance(enemy.X, enemy.Y, player.X, player.Y)</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Subtract from" sid="422598256305658" type="System">
                                    <param id="0" name="Variable">staticVolume</param>
                                    <param id="1" name="Value">0.2</param>
                                </action>
                                <action id="3" name="Set volume" sid="677349715150389" type="Audio">
                                    <param id="0" name="Tag">&quot;static&quot;</param>
                                    <param id="1" name="dB">staticVolume</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="833002239016368">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="137728019757440" type="System">
                                    <param id="0" name="Variable">staticVolume</param>
                                    <param id="1" name="Comparison">3</param>
                                    <param id="2" name="Value">-30</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="6" name="Stop" sid="130993252881389" type="Audio">
                                    <param id="0" name="Tag">&quot;static&quot;</param>
                                </action>
                                <action id="-9" name="Set value" sid="738998959616209" type="System">
                                    <param id="0" name="Variable">staticVolume</param>
                                    <param id="1" name="Value">initialStaticVolume</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="553754133515456" title="LetterPickup">
            <sub-events>
                <event-block sid="678813859462748">
                    <conditions>
                        <condition id="0" name="On collision with another object" sid="937314371972330" type="player">
                            <param id="0" name="Object">Letter</param>
                        </condition>
                        <condition id="-33" name="Pick by comparison" sid="209013764802003" type="System">
                            <param id="0" name="Object">Letter_display</param>
                            <param id="1" name="Expression">Letter_display.letter</param>
                            <param id="2" name="Comparison">0</param>
                            <param id="3" name="Value">Letter.letter</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-9" name="Destroy" sid="270941110615845" type="Letter" />
                        <action id="0" name="Set text" sid="899110725520060" type="Letter_display">
                            <param id="0" name="Text">Letter_display.letter</param>
                        </action>
                        <action id="0" name="Play" sid="109541593899745" type="Audio">
                            <param id="0" name="Audio file">pickup</param>
                            <param id="2" name="Loop">0</param>
                            <param id="3" name="Volume">0</param>
                            <param id="1" name="Tag (optional)">&quot;&quot;</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <event-group description="" sid="232648293782727" title="Shout">
            <sub-events>
                <event-block sid="691557155677529">
                    <conditions>
                        <condition behavior="Timer" id="0" name="On timer" sid="268276429565159" type="player">
                            <param id="0" name="Tag">&quot;shoutTimer&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="344102708733055" type="shout">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="101990739127220">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="917084486669438" type="Keyboard">
                            <param id="0" name="Key">32 (Space)</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="582592692667118">
                            <conditions>
                                <condition id="-15" name="Pick nearest/furthest" sid="225788486676045" type="enemy">
                                    <param id="0" name="Which">0</param>
                                    <param id="1" name="X">player.X</param>
                                    <param id="2" name="Y">player.Y</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-22" name="Set angle toward position" sid="905151142798819" type="player">
                                    <param id="0" name="X">enemy.X</param>
                                    <param id="1" name="Y">enemy.Y</param>
                                </action>
                                <action behavior="Timer" id="0" name="Start timer" sid="108574753155459" type="player">
                                    <param id="0" name="Duration">0.8</param>
                                    <param id="1" name="Type">0</param>
                                    <param id="2" name="Tag">&quot;shoutTimer&quot;</param>
                                </action>
                                <action id="0" name="Play" sid="330922291074291" type="Audio">
                                    <param id="0" name="Audio file">oi</param>
                                    <param id="2" name="Loop">0</param>
                                    <param id="3" name="Volume">0</param>
                                    <param id="1" name="Tag (optional)">&quot;shout&quot;</param>
                                </action>
                                <action id="-15" name="Set visible" sid="357550112118178" type="shout">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
